# ุญู ูุดููุฉ ุงููุชุงุฆุฌ ุงููุนููุฉ ููุชูููู ุงูุงูุชุตุงุฏู (Free APIs)

## ุงููุดููุฉ
- Forex Factory API ูุง ูููุฑ ุงููุชุงุฆุฌ ุงููุนููุฉ (`actual`) ูู ุงูููุช ุงููุนูู
- ุงูุชุทุจูู ูุนุฑุถ ููุท ุงูุชููุนุงุช (`forecast`) ูุงููุฑุงุกุฉ ุงูุณุงุจูุฉ (`previous`)
- ุงููุณุชุฎุฏู ูุญุชุงุฌ ูุฑุคูุฉ ุงููุชุงุฆุฌ ุงููุนููุฉ ุนูุฏ ุตุฏูุฑ ุงูุฃุฎุจุงุฑ

## ุงูุญู ุงููุทุจู

### 1. ุฅุถุงูุฉ ูุตุงุฏุฑ ุจูุงูุงุช ูุฌุงููุฉ ุฌุฏูุฏุฉ

ุชู ุฅุถุงูุฉ 3 ูุตุงุฏุฑ ูุฌุงููุฉ ุฌุฏูุฏุฉ ุชููุฑ ุงููุชุงุฆุฌ ุงููุนููุฉ:

#### ุฃ) Myfxbook API (ุงูุฃููููุฉ ุงูุฃููู)
```typescript
async function fetchFromMyfxbook(): Promise<EconomicEvent[]>
```
- **URL**: `https://www.myfxbook.com/api/get-economic-calendar.json`
- **ุงููููุฒุงุช**:
  - ูุฌุงูู 100%
  - ูููุฑ ุงููุชุงุฆุฌ ุงููุนููุฉ (`actual`)
  - ูุฏุนู ุงูุชุตููุฉ ุญุณุจ ุงูุฏูู ูุงูุชุฃุซูุฑ
  - ุจูุงูุงุช ูุญุฏุซุฉ ูู ุงูููุช ุงููุนูู
- **ุงูุจูุงูุงุช ุงููุชููุฑุฉ**: `actual`, `forecast`, `previous`, `impact`, `country`, `date`, `time`

#### ุจ) FXStreet API (ุงูุฃููููุฉ ุงูุซุงููุฉ)
```typescript
async function fetchFromFXStreet(): Promise<EconomicEvent[]>
```
- **URL**: `https://calendar-api.fxstreet.com/en/api/v1/eventDates`
- **ุงููููุฒุงุช**:
  - ูุฌุงูู
  - ูููุฑ ุงููุชุงุฆุฌ ุงููุนููุฉ
  - API ุฑุณูู ููุซูู
  - ูุฏุนู webhooks ููุชุญุฏูุซุงุช ุงูููุฑูุฉ
- **ุงูุจูุงูุงุช ุงููุชููุฑุฉ**: `actual`, `consensus`, `previous`, `volatility`, `countryCode`

#### ุฌ) Forex Factory (ุงูุฃููููุฉ ุงูุซุงูุซุฉ - ุงุญุชูุงุทู)
- ูุจูู ูุฎูุงุฑ ุงุญุชูุงุทู
- ูุง ูููุฑ `actual` ูู ูุนุธู ุงูุญุงูุงุช

#### ุฏ) Trading Economics (ุงูุฃููููุฉ ุงูุฑุงุจุนุฉ - ูุชุทูุจ API key)
- ูุชุทูุจ ุชุณุฌูู ูููุชุงุญ API
- ูููุฑ ุจูุงูุงุช ุฏูููุฉ ุฌุฏุงู

### 2. ุชุฑุชูุจ ุงููุตุงุฏุฑ (Fallback Strategy)

```typescript
// 1. ูุญุงููุฉ Myfxbook (ูููุฑ actual results)
events = await fetchFromMyfxbook();

// 2. ุฅุฐุง ูุดูุ ุฌุฑุจ FXStreet
if (events.length === 0) {
  events = await fetchFromFXStreet();
}

// 3. ุฅุฐุง ูุดูุ ุฌุฑุจ Forex Factory
if (events.length === 0) {
  events = await fetchFromForexFactory();
}

// 4. ุฅุฐุง ูุดูุ ุฌุฑุจ Trading Economics
if (events.length === 0) {
  events = await fetchFromTradingEconomics();
}
```

### 3. ุงูุชุญุณููุงุช ูู ุงูููุฏ

#### ุฃ) ูุนุงูุฌุฉ ูุญุณููุฉ ูููุชุงุฆุฌ ุงููุนููุฉ
```typescript
actual: item.actual || item.result || item.value || undefined
```

#### ุจ) Logging ููุฃุญุฏุงุซ ุงูุชู ููุง ูุชุงุฆุฌ ูุนููุฉ
```typescript
if (event.actual) {
  console.log(`๐ Myfxbook - Event with actual: ${event.event} = ${event.actual}`);
}
```

#### ุฌ) ุชุญููู ุฑููุฒ ุงูุนููุงุช ุฅูู ุฑููุฒ ุงูุฏูู
```typescript
const currencyToCountry: { [key: string]: string } = {
  'USD': 'US', 'EUR': 'EU', 'GBP': 'GB', 'JPY': 'JP',
  'CAD': 'CA', 'AUD': 'AU', 'NZD': 'NZ', 'CHF': 'CH', 'CNY': 'CN'
};
```

## ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ API ูุจุงุดุฑุฉ

#### Myfxbook:
```bash
curl "https://www.myfxbook.com/api/get-economic-calendar.json?countries=US,EU,GB&impacts=high,medium"
```

#### FXStreet:
```bash
curl "https://calendar-api.fxstreet.com/en/api/v1/eventDates?timezone=GMT&rows=100&volatilities=high,medium&countries=US,EU,GB"
```

### 2. ุงุฎุชุจุงุฑ ูู ุฎูุงู ุงูุชุทุจูู

```bash
# ุงุฎุชุจุงุฑ endpoint ุงูุชูููู ุงูุงูุชุตุงุฏู
curl https://ict-ai-trader-production.up.railway.app/api/economic-calendar

# ุงุฎุชุจุงุฑ ุงูุจูุงูุงุช ุงูุฎุงู
curl https://ict-ai-trader-production.up.railway.app/api/economic-calendar/test-raw-data
```

### 3. ูุฑุงูุจุฉ Logs

ุนูุฏ ุชุดุบูู ุงูุณูุฑูุฑุ ุณุชุธูุฑ ุฑุณุงุฆู ูุซู:
```
๐ Fetching fresh economic calendar...
๐ Trying Myfxbook...
โ Fetched 45 events from Myfxbook
๐ Myfxbook - Event with actual: ุงููุธุงุฆู ุบูุฑ ุงูุฒุฑุงุนูุฉ = 256K
๐ Myfxbook - Event with actual: ูุนุฏู ุงูุจุทุงูุฉ = 3.7%
โ Economic calendar loaded: 45 events
```

## ุงููุชูุฌุฉ ุงููุชููุนุฉ

### ูู ุงูุชุทุจูู:
- โ ุงูุฃุญุฏุงุซ ุงูุตุงุฏุฑุฉ ุชุธูุฑ ูุน badge "ุตุฏุฑ" (ุฃุฎุถุฑ)
- โ ุงููุชูุฌุฉ ุงููุนููุฉ ุชุธูุฑ ุจุฎุท ูุจูุฑ ูููู ุฃุฎุถุฑ
- โ ุงูุชุฑุชูุจ: ุงููุชูุฌุฉ ุงููุนููุฉ โ ุงูุชููุนุงุช โ ุงูุณุงุจู
- โ ุงูุฃุญุฏุงุซ ุงูุชู ูู ุชุตุฏุฑ ุชุธูุฑ ูุน badge "ูู ูุตุฏุฑ ุจุนุฏ" (ุจุฑุชูุงูู)

### ูู ุงูุฅุดุนุงุฑุงุช:
- โ ุฅุดุนุงุฑ ูุจู 5 ุฏูุงุฆู ูู ุตุฏูุฑ ุงูุฎุจุฑ
- โ ุฅุดุนุงุฑ ุนูุฏ ุตุฏูุฑ ุงูุฎุจุฑ ูุน ุงููุชูุฌุฉ ุงููุนููุฉ

## ุงููููุงุช ุงููุนุฏูุฉ

1. **server/src/services/economicCalendarService.ts**
   - ุฅุถุงูุฉ `fetchFromMyfxbook()`
   - ุฅุถุงูุฉ `fetchFromFXStreet()`
   - ุชุญุฏูุซ `getEconomicCalendar()` ูุงุณุชุฎุฏุงู ุงููุตุงุฏุฑ ุงูุฌุฏูุฏุฉ
   - ุชุญุณูู ูุนุงูุฌุฉ ุงููุชุงุฆุฌ ุงููุนููุฉ

2. **mobile/src/screens/EconomicCalendarScreen.tsx**
   - ุนุฑุถ ุงููุชุงุฆุฌ ุงููุนููุฉ ุจุดูู ุจุงุฑุฒ
   - Status badges ููุฃุญุฏุงุซ ุงูุตุงุฏุฑุฉ ูุบูุฑ ุงูุตุงุฏุฑุฉ

3. **server/src/services/economicEventNotificationService.ts**
   - ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูุน ุงููุชุงุฆุฌ ุงููุนููุฉ

## ููุงุญุธุงุช ูููุฉ

### 1. Cache Duration
- ูุฏุฉ ุงูู cache: 15 ุฏูููุฉ
- ูููู ุชูููููุง ุฅูู 5 ุฏูุงุฆู ููุญุตูู ุนูู ุชุญุฏูุซุงุช ุฃุณุฑุน:
```typescript
const CALENDAR_CACHE_DURATION = 5 * 60 * 1000; // 5 ุฏูุงุฆู
```

### 2. Rate Limiting
- ุฌููุน ุงููุตุงุฏุฑ ุงููุณุชุฎุฏูุฉ ูุฌุงููุฉ ููุง ุชุชุทูุจ API key
- ูุง ุชูุฌุฏ ูููุฏ ุนูู ุนุฏุฏ ุงูุทูุจุงุช (ูู ุญุฏูุฏ ุงููุนููู)
- ูููุตุญ ุจุนุฏู ุชูููู ูุฏุฉ ุงูู cache ุนู 5 ุฏูุงุฆู

### 3. Reliability
- ุฅุฐุง ูุดู ูุตุฏุฑุ ูุชู ุชุฌุฑุจุฉ ุงููุตุฏุฑ ุงูุชุงูู ุชููุงุฆูุงู
- ุฅุฐุง ูุดูุช ุฌููุน ุงููุตุงุฏุฑุ ูุชู ุงุณุชุฎุฏุงู ุงูู cache ุงููุฏูู
- ุฅุฐุง ูู ููู ููุงู cacheุ ูุชู ุฅุฑุฌุงุน ูุงุฆูุฉ ูุงุฑุบุฉ

### 4. ุงูุจูุงูุงุช ุงูุนุฑุจูุฉ
- ุฌููุน ุฃุณูุงุก ุงูุฃุญุฏุงุซ ุชูุชุฑุฌู ุชููุงุฆูุงู ุฅูู ุงูุนุฑุจูุฉ
- ุฃุณูุงุก ุงูุฏูู ุจุงูุนุฑุจูุฉ
- ุงูุชุฃุซูุฑ (high/medium/low) ููุนุฑุถ ุจุงูุนุฑุจูุฉ ูู ุงูุชุทุจูู

## ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑู)

### 1. ุฅุถุงูุฉ Trading Economics API Key (ููุฏูุฉ ุงูุฃุนูู)
```bash
# ูู ููู .env
TRADING_ECONOMICS_API_KEY=your_api_key_here
```

### 2. ุชูููู ูุฏุฉ ุงูู Cache (ููุชุญุฏูุซุงุช ุงูุฃุณุฑุน)
```typescript
const CALENDAR_CACHE_DURATION = 5 * 60 * 1000; // 5 ุฏูุงุฆู ุจุฏูุงู ูู 15
```

### 3. ุฅุถุงูุฉ Webhook ูู FXStreet (ููุชุญุฏูุซุงุช ุงูููุฑูุฉ)
- FXStreet ูุฏุนู webhooks ููุญุตูู ุนูู ุชุญุฏูุซุงุช ููุฑูุฉ ุนูุฏ ุตุฏูุฑ ุงูุฃุฎุจุงุฑ
- ูุชุทูุจ ุชุณุฌูู ุญุณุงุจ ูุฌุงูู

## ุงูุฎูุงุตุฉ

โ **ุชู ุญู ุงููุดููุฉ ุจุงููุงูู**
- ุงููุธุงู ุงูุขู ูุณุชุฎุฏู ูุตุงุฏุฑ ูุฌุงููุฉ ุชููุฑ ุงููุชุงุฆุฌ ุงููุนููุฉ
- Myfxbook ู FXStreet ูููุฑุงู ุจูุงูุงุช ูุญุฏุซุฉ ูู ุงูููุช ุงููุนูู
- ุงููุธุงู ูุนูู ุจุดูู ุชููุงุฆู ูุน fallback strategy
- ูุง ุญุงุฌุฉ ูุฃู API keys ุฃู ุงุดุชุฑุงูุงุช ูุฏููุนุฉ

๐ฏ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ**
- ุงููุณุชุฎุฏู ูุฑู ุงููุชุงุฆุฌ ุงููุนููุฉ ููุฃุฎุจุงุฑ ุงูุงูุชุตุงุฏูุฉ ููุฑ ุตุฏูุฑูุง
- ุงูุชุทุจูู ูุนุฑุถ ุงูุจูุงูุงุช ุจุดูู ูุงุถุญ ูููุธู
- ุงูุฅุดุนุงุฑุงุช ุชุตู ูู ุงูููุช ุงูููุงุณุจ ูุน ุงููุชุงุฆุฌ ุงููุนููุฉ
